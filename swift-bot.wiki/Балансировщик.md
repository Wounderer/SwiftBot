## Выявление потребности

Из полученного на определенный момент времени профита, можно оплатить балансиовку между аккаунтами

Средства, затраченные на балансировку учитывать отдельной графой в финансах




Воркер балансов хранит актуальные данные по потребностям монет и периодически сбрасывает информацию на диск.

По запросу отдает суммарную статистику

## Рассчет эффективности 

Комиссия перевода должна покрываться из профита.

Т.е. либо из профита, пролученного на бирже отправки либо из профита на бирже получателя


## Отслеживание 

Анализирует события системы

## Ручная балансировка

Если на бирже нет возможности автоотправки, рассчитывать таких кандидатов и предлагать пользователю самостоятельно это сделать
## Смещение средств

## Отслеживание процесса

Одновременно может быть запущен только один процесс балансировки

Если в системе есть активное задание на балансировку, воркер балансов периодически пытается отправить средства по запрошенному адресу

В случае успеха запускается событие успешного вывода

Если событие отправки вывода содержит в себе информацию о соответствии заданию на вывод
**balancer_task_id** внутри объекта **target** события
```json
{
  "exchange_id": "1",
  "currency_id" : "1",
  "created_at" : "123323233",
  "confirmed_at" : "123323233",
  "status" : "pending",
  "type" : "internal|external",
  "remote_id" : "xxxxx",
  "local_id" : "xxxxx",
  "amount" : "10.00000000",
  "fee" : "0.00050000",
  "deposit_address" : "16BVE3UQ7s4uj5mhbKJao2SjDmMzgYhaxH",
  "balancer_task_id" : "1477"
}
```

При событии обнаружения нового депозита, соответствующего отправлению трансфер средств считается законченым. 

Фиксируется продолжительность вывода и зачисления

## Стоимость балансировки

Стоимость балансировки это стоимость комиссии вывода в USD на момент отправки